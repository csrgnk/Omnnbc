<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Loading Post...</title>

<meta name="description" content="">
<meta name="robots" content="index, follow">

<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background:#f8f9fa;
}

/* Header */
header {
  background:#fff9db;
  padding:20px;
  text-align:center;
  font-size:1.8rem;
  font-weight:bold;
  color:#C2185B;
}

/* Container */
.container {
  max-width:750px;
  margin:auto;
  padding:20px;
  background:#fff;
}

/* Post Title */
.post-title {
  font-size:28px;
  color:#C2185B;
  margin-bottom:20px;
  font-weight:bold;
}

/* Content */
.post-content {
  font-size:17px;
  line-height:1.7;
  color:#333;
}

/* Share Section */
.share-box {
  margin-top:30px;
  padding-top:20px;
  border-top:1px solid #ddd;
  text-align:center;
}

.share-btn {
  display:inline-block;
  margin:5px;
  padding:10px 16px;
  border-radius:6px;
  font-size:14px;
  font-weight:bold;
  text-decoration:none;
  color:#fff;
}

.wa { background:#25D366; }
.fb { background:#1877F2; }
.tw { background:#000; }
.copy { background:#ff6600; cursor:pointer; border:none; }

/* Footer */
footer {
  background:#fff3cc;
  text-align:center;
  padding:20px;
  margin-top:40px;
  color:#C2185B;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
Namo Narayanaya Bhakthi Channel
</header>

<div class="container">

<div id="postContainer">
Loading post...
</div>

<div class="share-box">
  <a id="waShare" class="share-btn wa">WhatsApp</a>
  <a id="fbShare" class="share-btn fb" target="_blank">Facebook</a>
  <a id="twShare" class="share-btn tw" target="_blank">Twitter</a>
  <button onclick="copyLink()" class="share-btn copy">Copy Link</button>
</div>

</div>

<footer>
Â© Namo Narayanaya Bhakthi Channel
</footer>

<script>

// Get slug from URL
const params = new URLSearchParams(window.location.search);
const slug = params.get("slug");

fetch("data/posts.json")
.then(res => res.json())
.then(posts => {

  const post = posts.find(p => p.slug === slug);

  if(!post){
    document.getElementById("postContainer").innerHTML =
      "<h2 style='color:#C2185B;'>Post not found</h2>";
    return;
  }

  // Set page title
  document.title = post.title;

  // Set meta description
  document.querySelector('meta[name="description"]').setAttribute("content", post.meta_description || "");

  // Display post
  document.getElementById("postContainer").innerHTML = `
    <div class="post-title">${post.title}</div>
    <div class="post-content">${post.content}</div>
  `;

  // Share setup
  const url = window.location.href;
  const shareText = encodeURIComponent(post.title + " " + url);

  document.getElementById("waShare").href =
    "https://api.whatsapp.com/send?text=" + shareText;

  document.getElementById("fbShare").href =
    "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(url);

  document.getElementById("twShare").href =
    "https://twitter.com/intent/tweet?text=" + shareText;

});

// Copy button
function copyLink(){
  navigator.clipboard.writeText(window.location.href);
  alert("Link Copied!");
}

</script>

</body>
</html>
